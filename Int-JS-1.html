<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS Study</title>
</head>
<body>
    
</body>
</html>








<script>
// Objects nested inside of objects
    let jacobsFoods = {
    pizza: {
        hasCheese: true,
        type: "sausage",
        size: "large"
    }
};

let getPizza = jacobsFoods.pizza;

getPizza.size;





// Arrays within objects
let studentData = {
    name: "Jacob",
    hobbies: ["fishing", "boating", "fitness"]
}

studentData.hobbies[1];





// Complex objects

let studentData2 = {
    name: "Jacob",
    additionalData: {
        student: true,
        hobbies: ["fishing", "boating", "fitness"],
        moreDetails: {
            favBasketballTeam: "Okc",
            numberOfSiblings: 1,
            isYoungest: true,
            homeTown: {
                city: "Deland",
                state: "Florida",
            },
            inCollege: true
        }
    }
}


studentData2.additionalData.moreDetails.homeTown.city




// Accessing and Setting values in nested objects

let programmingLanguages = {
    java: {
        yearCreated: 1995,
        creator: "James Gosling"
    },
    javaScript: {
        yearCreated: 1995,
        creator: "Brendan Eich"
    }
}

function addProgrammingLanguage(nameOfLanguage, yearLanguageCreated, creatorOfLanguage) {
    programmingLanguages[nameOfLanguage] = {
        yearCreated: yearLanguageCreated,
        creator: creatorOfLanguage
    }
}

addProgrammingLanguage("ruby", 1995, "Yukihiro Matsumoto");



// NESTED OBJECTS EXERCISE 
let nestedData = {
  innerData: {
    order: ["first", "second", "third"],
    snacks: ["chips", "fruit", "crackers"],
    numberData: {
        primeNumbers: [2,3,5,7,11],
        fibonnaci: [1,1,2,3,5,8,13]
    },
    addSnack: function(snack){
        this.snacks.push(snack);
        return this;
    }
  }
}

    // Using a for loop, console.log all of the numbers in the primenumbers array.
    for (let i = 0; i < nestedData.innerData.numberData.primeNumbers.length; i++) {
        // console.log(nestedData.innerData.numberData.primeNumbers[i]);
    }

    // Using a for loop, console.log all of the even Fib numbers
    for (let i = 0; i < nestedData.innerData.numberData.fibonnaci.length; i++) {
        if(nestedData.innerData.numberData.fibonnaci[i] % 2 == 0){
            // console.log(nestedData.innerData.numberData.fibonnaci[i]);
        } 
    } 

    // Console.log the value "second" inside the order array.
    // console.log(nestedData.innerData.order[1]);

    // Invoke the addSnack function and add the snack "chocolate"
    nestedData.innerData.addSnack("chocolate");















// Nested Arrays

    // Double for loop 
    var nestedArr = [[1,2,3], [4,5,6], [7,8,9,10,11,12]];
    for (let i = 0; i < nestedArr.length; i++) {
        for (let j = 0; j < nestedArr[i].length; j++) {
            // console.log(nestedArr[i][j]);
        }
    }

    // Exercises
        // Log out the even numbers in array
        let newArr = [[1,2,3],[4,5,6],[7,8],[9,10,11,12]];

        for (let i = 0; i < newArr.length; i++) {
            for(j = 0; j < newArr[i].length; j++){
                if (newArr[i][j] % 2 == 0) {
                    // console.log(newArr[i][j]);
                }
            }
        }

        // Write a function called sumTotal that returns the sum of all numbers in the array
        var newestArr = [[[1,2],[3,4]],[[5,6]]];

        function sumTotal () {
            let sum = 0;
            for (let i = 0; i < newestArr.length; i++) {
                for (let j = 0; j < newestArr[i].length; j++) {
                    for (let k = 0; k < newestArr[i][j].length; k++) {
                        sum += newestArr[i][j][k];
                    }
                }
            }
            // console.log(sum);
        }

        sumTotal();



       // Write a function called rotate which takes an array and a number, and moves each element however many spaces the number is to the right. 
        function rotate (arr, num) {
            let amount = num % arr.length;
            for (let i = 0; i < arr.length; i++ ) {
                arr.unshift(arr.pop());
            }
            return arr;
        }














// Higher Order Functions 
function sendMessage(message, fn){
    return fn(message);
}

    // Another example of higher order functions
    function add (a,b) {
        return a + b;
    }

    function subtract (a,b) {
        return a - b;
    }   

    function math (a,b,fn) {
        return fn(a,b);
    }

    math(2,6,add);








    // Write a function called each which accepts two parameters: an array and a callback function. Loop over the array and run the callback
    function each (arr, callBack) {
        for (let i = 0; i < arr.length; i++) {
            callBack(arr[i]);
        }
    }

    each([1,2,3,4], function(val){
        // console.log(val);
    });

    each([1,2,3,4], function(val){
        // console.log(val * 2);
    });




    // Exercise
        // Write a function called map which accepts two parameters: an array and a callback. Function should return a new array with the result of each value being passed to the callback function. 
        function map (array, callback) {
            let val = [];
            for (let i = 0; i < array.length; i++) {
                val.push(array[i]);
            }
            // console.log(val);
        }


        map([1,2,3,4], function(val){
            return val * 2;
        });








// Timers
setTimeout(function () {
    // console.log("hello world");
}, 3000);

    // Console.logs "HI" twice, but the setTimeout function clears the ID     
    var timerId = setInterval(function(){
        // console.log("HI!");
    },1000);

    setTimeout(function(){
        // clearTimeout(timerId);
    },3000);




    // Example of the event loop
        // console.log("first");
        // setTimeout(function(){
        //     console.log("second");
        // },0);
        // console.log("third");







// Closures
    // Example of a closure to create a private variable "age"
    function defineAge () {
        var age = 28;
        return function growUp () {
            return ++age;
        }
    }

    var ageOnce = defineAge();
    ageOnce(); // 29
    ageOnce(); // 30


    // Counter Function
    function counter () {
        let count = 0;
        return function () {
            return ++count;
        }
    }

    let c = counter();
    c(); // 1
    c(); // 2
    c(); // 3

    function createInstructor () {
        let instructors = ["Elie", "Matt", "Tim"];
        return {
            showInstructors: function displayAllInstructors() {
                return instructors;
            },
            addInstructor: function addNewInstructor(instructor) {
                instructors.push(instructor);
                return instructors;
            }
        }
    }

    let firstClass = createInstructor();
    firstClass.addInstructor("Jacob");
    firstClass.showInstructors(); // ["Elie", "Matt", "Tim", "Jennifer"]

    let secondClass = createInstructor();
    secondClass.addInstructor("Ashley");
    secondClass.showInstructors(); // ["Elie", "Matt", "Tim", "Ashley"]
    
    // Instead of calling createInstructor everytime we can use an IIFE
    // Also an exampl of a module. AKA the modular pattern
    var instructorModule = (function createInstructors(){
    var instructors = ["Elie", "Matt", "Tim"];
    return {
        showInstructors: function displayAllInstructors(){
            return instructors;
        },
        addInstructor: function addNewInstructor(instructor){
            instructors.push(instructor)
            return instructors;
        }
    }
})();

// Local Storage
    // All keys being stored in local storage must be strings.

    // Set an item in local storage
    localStorage.setItem("instructor", "Elie");
    localStorage.setItem("favNum", 18);

    // Get an item from local storage
    localStorage.getItem("instructor");

    // Delete an item from local storage
    localStorage.removeItem("instructor");

    // Clear everything from local storage
    localStorage.clear();


    // Adding objects into local storage
    // Notice we have to use JSON.stringify 
    var instructors = ["Elie", "Matt", "Tim"];

    localStorage.setItem("instructors", JSON.stringify(instructors));
    localStorage.getItem("instructors");

    localStorage.clear();






</script>